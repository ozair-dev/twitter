var Pe=Object.defineProperty,Le=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var ee=(t,o,s)=>o in t?Pe(t,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[o]=s,C=(t,o)=>{for(var s in o||(o={}))Te.call(o,s)&&ee(t,s,o[s]);if(Z)for(var s of Z(o))We.call(o,s)&&ee(t,s,o[s]);return t},R=(t,o)=>Le(t,Be(o));import{r as i,j as e,N as se,i as Ee,d as ze,a as r,B as a,b as _,g as $,G as Oe,c as f,F as Fe,s as Ue,u as Y,M as Me,I as S,e as He,f as ne,h as re,k as F,l as Ne,m as ie,T as x,L as De,n as je,C as U,o as B,p as $e,q as qe,t as ae,v as le,w as ce,x as de,y as _e,D as me,z as D,A as V,R as Q,E as z,H as k,J as G,K as Ge,O as ue,P as te,Q as Ke,S as Je,U as Ve,V as Ye,W as Qe,X as Xe,Y as Ze,Z as et,_ as tt,$ as ot,a0 as st,a1 as nt,a2 as rt,a3 as it,a4 as at,a5 as lt,a6 as ct,a7 as dt,a8 as mt,a9 as ut,aa as ht,ab as pt,ac as gt,ad as ft,ae as xt,af as bt,ag as he,ah as X,ai as pe,aj as M,ak as K,al as ge,am as T,an as W,ao as fe,ap as q,aq as xe,ar as H,as as be,at as j,au as ye,av as we,aw as ve,ax as Se,ay as Ie,az as yt,aA as wt,aB as vt,aC as St,aD as It,aE as kt,aF as Ct,aG as Rt,aH as At,aI as Pt,aJ as Lt,aK as Bt,aL as Tt,aM as Wt}from"./vendor.38f06183.js";const Et=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(n){if(n.ep)return;n.ep=!0;const d=s(n);fetch(n.href,d)}};Et();const O=i.exports.createContext(),zt=({children:t,user:o})=>o?t:e(se,{to:"/"}),Ot=({children:t,restricted:o})=>o?e(se,{to:"/surf"}):t,Ft={apiKey:"AIzaSyAJ_jesQu_QFBlmtoBrSdGgvEDbO6UwWEk",authDomain:"ozlearning.firebaseapp.com",projectId:"ozlearning",storageBucket:"ozlearning.appspot.com",messagingSenderId:"1081690833390",appId:"1:1081690833390:web:394191d814ebaa13388eff",measurementId:"G-V0KHSFMHDN"};Ee(Ft);const A=ze(),Ut=()=>r(a,{sx:{bgcolor:"primary.main",flex:{sm:1},height:{sm:"100%"},width:{xs:"100%",sm:"auto"},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",background:"url(https://abs.twimg.com/sticky/illustrations/lohp_en_1302x955.png) no-repeat center"},children:[e(a,{component:"img",sx:{maxWidth:{xs:1,sm:0},opacity:0},src:"https://abs.twimg.com/sticky/illustrations/lohp_en_1302x955.png"}),e(_,{sx:{p:"10%",width:"100%",height:"auto",maxHeight:"100%",position:"absolute",color:"common.white"}})]}),Mt=$(),ke=new Oe;ke.addScope("https://www.googleapis.com/auth/userinfo.profile	");class Ht extends i.exports.Component{render(){return e("div",{children:e(f,{variant:"outlined",startIcon:e(Fe,{}),onClick:Nt,children:"Continue With Google"})})}}function Nt(){Ue(Mt,ke).then(()=>{}).catch(()=>{})}const Dt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:1,sm:400},maxHeight:{xs:1,sm:.95},overflowY:"scroll",height:{xs:1,sm:"auto"},bgcolor:"background.paper",p:5,pt:1,transition:"all 0.4s",borderRadius:{xs:0,sm:5},display:"flex",flexDirection:"column",alignItems:"center","&  .MuiButton-root":{textTransform:"none",borderRadius:5},"&::-webkit-scrollbar":{display:"none"}},Ce=({children:t})=>{const o=Y();return e(Me,{open:!0,onClose:s,children:r(a,{sx:Dt,children:[e(S,{onClick:s,size:"large",color:"secondary",sx:{position:"absolute",top:1,left:1,borderRadius:5},children:e(He,{fontSize:"medium"})}),e(_,{fontSize:"large",color:"primary"}),t]})});function s(){o("/")}},oe=$(),jt=ne(),$t=re({name:F().required("Name is required").max(50,"Name's length should not be more than 50 characters"),email:F().lowercase().email("Must be a valid email address").required("Email address is required"),password:F().min(6,"Must be atleast 6 characters long").required("Password is required"),confirmPassword:F().oneOf([Ne("password"),null],"Passwords must match").required("Please re-enter the password")}).required(),qt=()=>{const{setUser:t}=i.exports.useContext(O),[o,s]=i.exports.useState({}),[c,n]=i.exports.useState(!1),[d,u]=i.exports.useState(""),{control:h,handleSubmit:p,formState:{errors:m}}=ie({resolver:de($t),defaultValues:{email:"",password:"",confirmPassword:"",name:""}});return e(Ce,{children:r(a,{component:"form",onSubmit:p(g),children:[e(x,{variant:"h6",mt:3,children:"Create your account"}),r(a,{sx:{mx:"auto",my:2,width:200,height:200,borderRadius:"50%",border:1,borderColor:"primary.main",position:"relative"},children:[!!d&&e("img",{src:d,style:{width:"100%",height:"100%",borderRadius:"50%"}}),r("label",{htmlFor:"image-input",children:[e("input",{accept:"image/*",id:"image-input",onChange:I,type:"file",style:{display:"none"}}),e(De,{component:"span",variant:"contained",color:"primary",loading:c,sx:{p:1,minWidth:0,position:"absolute",bottom:0,right:0,transform:"translate(-50%, -50%)"},children:e(je,{sx:{color:"gray[50]"}})})]})]}),e(U,{control:h,name:"name",render:({field:b})=>{var l;return e(B,R(C({},b),{autoFocus:!0,fullWidth:!0,variant:"outlined",color:"primary",margin:"dense",label:"Name",error:!!m.name,helperText:(l=m.name)==null?void 0:l.message}))}}),e(U,{control:h,name:"email",render:({field:b})=>{var l,y;return e(B,R(C({},b),{fullWidth:!0,variant:"outlined",color:"primary",margin:"dense",label:"Email",error:!!m.email||!!o.email,helperText:((l=m.email)==null?void 0:l.message)||((y=o.email)==null?void 0:y.message)}))}}),e(U,{control:h,name:"password",render:({field:b})=>{var l;return e(B,R(C({},b),{fullWidth:!0,variant:"outlined",color:"primary",margin:"dense",label:"Password",type:"password",error:!!m.password,helperText:(l=m.password)==null?void 0:l.message}))}}),e(U,{control:h,name:"confirmPassword",render:({field:b})=>{var l;return e(B,R(C({},b),{fullWidth:!0,variant:"outlined",color:"primary",margin:"dense",label:"Confirm Password",type:"password",error:!!m.confirmPassword,helperText:(l=m.confirmPassword)==null?void 0:l.message}))}}),e(f,{variant:"contained",disabled:c,type:"submit",sx:{width:300,mt:2},children:"Sign up"})]})});function g({email:b,password:l,name:y}){n(!0),s({}),$e(oe,b,l).then(w=>{const{user:v}=w;qe(v,{displayName:y,photoURL:d}).then(()=>{t(oe.currentUser)})}).catch(w=>{switch(n(!1),w.code){case"auth/invalid-email":s({email:{message:"Invalid email address"}});break;case"auth/email-already-in-use":s({email:{message:"Email address is already in use"}});break}})}function I(b){const l=b.target.files[0];if(l&&l.type.includes("image")){u(""),n(!0);const y=ae(jt,"images/"+l.name);console.log(y);const w=le(y,l);w.on("state_changed",v=>{console.log(100*v.bytesTransferred/v.totalBytes)},v=>{n(!1),console.log(v)},()=>{ce(w.snapshot.ref).then(v=>{u(v)}),n(!1)})}}},_t=$(),Gt=re({email:F().lowercase().email("Must be a valid email address").required("Email is required"),password:F().required("Password is required")}).required(),Kt=()=>{const t=Y(),[o,s]=i.exports.useState({}),{control:c,handleSubmit:n,formState:{errors:d}}=ie({resolver:de(Gt),defaultValues:{email:"",password:""}});return e(Ce,{children:r(a,{component:"form",onSubmit:n(u),children:[e(x,{variant:"h6",mt:3,children:"Sign in to Twitter"}),e(U,{name:"email",control:c,render:({field:h})=>{var p,m;return e(B,R(C({},h),{fullWidth:!0,autoFocus:!0,variant:"outlined",id:"email-basic",label:"Email",margin:"dense",helperText:((p=d.email)==null?void 0:p.message)||((m=o.email)==null?void 0:m.message),error:!!d.email||!!o.email}))}}),e(U,{name:"password",control:c,rules:{required:!0},render:({field:h})=>{var p,m;return e(B,R(C({},h),{fullWidth:!0,variant:"outlined",id:"password-basic",label:"Password",margin:"normal",helperText:((p=o.password)==null?void 0:p.message)||((m=d.password)==null?void 0:m.message),error:!!d.password||!!o.password,type:"password",autoComplete:"current-password"}))}}),e(f,{type:"submit",variant:"contained",sx:{width:300},children:"Sign in"}),e(f,{variant:"outlined",sx:{width:300,my:2},children:"Forgot password?"}),r(x,{children:["Dont have an account?"," ",e(f,{variant:"text",onClick:()=>t("/signup"),children:"Sign up"})]})]})});function u({email:h,password:p}){s({}),_e(_t,h,p).then(()=>{}).catch(m=>{switch(m.code){case"auth/wrong-password":s(g=>R(C({},g),{password:{message:"Password you entered is not correct"}}));break;case"auth/user-not-found":s(g=>R(C({},g),{email:{message:"No account is registered with this email address"}}));break;default:s({password:{message:"Could not sign in. Make sure you entered correct email and password"}});break}})}},Jt=()=>r(a,{sx:{minWidth:{xs:"100%",sm:"45vw"},p:5,"& button":{textTransform:"none",borderRadius:5,fontWeight:"bold",width:300}},children:[e(_,{sx:{fontSize:"3rem"},color:"primary"}),e(a,{sx:{typography:{xs:"h3",sm:"h2"},fontWeight:{xs:800,sm:800},my:5,color:"common.black"},children:"Happening now"}),e(a,{sx:{typography:{xs:"h5",sm:"h4"},fontWeight:{xs:800,sm:800},my:5,color:"common.black"},children:"Join Twitter today."}),r(a,{sx:{width:"min-content"},children:[e(Ht,{}),e(me,{textAlign:"center",sx:{my:1,fontWeight:"bold"},children:"or"}),e(D,{to:"signup",style:{textDecoration:"none"},children:e(f,{variant:"contained",children:"Sign up with Email Address"})}),r(x,{variant:"p",component:"p",fontSize:"10px",mt:1,children:["By signing up, you agree to the ",e(V,{href:"#",children:"Terms of Service"})," and"," ",e(V,{href:"#",children:"Privacy Policy"}),", including ",e(V,{href:"#",children:"Cookie Use"}),"."]}),e(x,{variant:"h6",mt:4,children:"Already have an account?"}),e(D,{to:"signin",style:{textDecoration:"none"},children:e(f,{variant:"outlined",children:"Sign in"})})]}),r(Q,{children:[e(z,{path:"signup",element:e(qt,{})}),e(z,{path:"signin",element:e(Kt,{})})]})]}),Vt=()=>r(a,{sx:{height:{sm:"100vh"},display:"flex",flexDirection:{xs:"column",sm:"row-reverse"}},children:[e(Jt,{}),e(Ut,{})]}),L=({value:t,IconOutlined:o,IconFilled:s,active:c})=>{const n=c===t.toLowerCase();return e(D,{to:t.toLowerCase(),children:e(a,{component:"div",sx:{"&:hover span":{bgcolor:"#dddcdc"}},children:r(a,{component:"span",sx:{px:2,py:1,width:"fit-content",borderRadius:100,display:"flex",alignItems:"center","& svg":{fontSize:"x-large"}},children:[n?s:o,e(x,{fontWeight:n?"bold":400,ml:2,fontSize:19,sx:{display:{xs:"none",md:"initial"}},children:t})]})})})},Yt=$(),Qt=()=>{const[t,o]=i.exports.useState(!1),{user:{name:s,photoURL:c}}=i.exports.useContext(O);return r(a,{sx:[{width:1,position:"relative"},t&&{"&:after":{content:'""',width:20,height:20,boxShadow:"4px 4px 4px #dddcdc",position:"absolute",left:"50%",top:0,transform:"translate(-50%, calc(-100% - 5px)) rotate(45deg)",background:"linear-gradient(-45deg, white 50%, transparent 50%)"}}],children:[r(a,{onClick:()=>o(d=>!d),sx:{width:1,p:1,display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:10,"&:hover":{bgcolor:"#dddcdc"}},children:[r(a,{sx:{flex:1,width:0,display:"flex",alignItems:"center"},children:[c?e(k,{component:"span",alt:s,src:c,sx:{width:50,height:50}}):e(k,{component:"span",sx:{width:50,height:50},children:s}),e(x,{component:"span",ml:2,noWrap:!0,fontWeight:"medium",sx:{display:{xs:"none",md:"initial"}},children:s})]}),e(G,{fontSize:"large",sx:{color:"red"}})]}),t&&r(a,{sx:{width:300,p:1,position:"absolute",top:0,left:0,borderRadius:5,bgcolor:"white",transform:"translateY(calc(-100% - 14px))",boxShadow:"0 0 10px #dddcdc",overflow:"initial"},children:[r(a,{sx:{display:"flex",alignItems:"center",p:1},children:[r(a,{sx:{flex:1,width:0,display:"flex",alignItems:"center"},children:[c?e(k,{component:"span",alt:s,src:c,sx:{width:60,height:60}}):e(k,{component:"span",sx:{width:60,height:60},children:s}),e(x,{component:"span",ml:2,noWrap:!0,fontWeight:"medium",children:s})]}),e(Ge,{fontSize:"medium",color:"primary"})]}),e(me,{}),e(f,{variant:"secondary",component:"span",sx:{width:1,textAlign:"start"},children:"Add an existing account"}),e(f,{onClick:n,variant:"secondary",component:"span",sx:{width:1},children:"Logout"})]})]});function n(){Yt.signOut()}},Xt=()=>{const[t,o]=i.exports.useState(!1),s=ue();return i.exports.useEffect(()=>{const c=s.pathname.split("/")[2];o(c)},[s]),r(x,{component:"div",sx:{position:"sticky",top:0,pl:{xs:1,sm:2,md:5},pr:{xs:1,sm:2},py:{xs:1,sm:2},width:{xs:"fit-content",md:1/4},height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[r(x,{component:"div",sx:{"& > a":{textDecoration:"none",color:"secondary.dark"}},children:[e(D,{to:"home",children:e(S,{color:"primary",children:e(_,{sx:{fontSize:40}})})}),e(L,{active:t,IconOutlined:e(te,{color:"primary",variant:"dot",children:e(Ke,{})}),IconFilled:e(te,{color:"primary",variant:"dot",children:e(Je,{})}),value:"Home"}),e(L,{active:t,IconOutlined:e(Ve,{}),IconFilled:e(Ye,{}),value:"Explore"}),e(L,{active:t,IconOutlined:e(Qe,{}),IconFilled:e(Xe,{}),value:"Communitites"}),e(L,{active:t,IconOutlined:e(Ze,{}),IconFilled:e(et,{}),value:"Notifications"}),e(L,{active:t,IconOutlined:e(tt,{}),IconFilled:e(ot,{}),value:"Messages"}),e(L,{active:t,IconOutlined:e(st,{}),IconFilled:e(nt,{}),value:"Bookmarks"}),e(L,{active:t,IconOutlined:e(rt,{}),IconFilled:e(it,{}),value:"Profile"}),e(L,{active:t,IconOutlined:e(at,{}),IconFilled:e(G,{}),value:"More"}),e(f,{variant:"contained",sx:{textTransform:"none",width:1,borderRadius:10,py:1.5,mt:2,"& > span:nth-of-type(1)":{display:{md:"none"}},"& > span:nth-of-type(2)":{display:{xs:"none",md:"initial"}}},startIcon:e(lt,{}),endIcon:e("span",{children:"Tweet"})})]}),e(Qt,{})]})},Zt=[{name:"Digital assets & cryptocurrency \xB7 Trending",tag:"#Saitam",tweets:"42.4K Tweets"},{name:"Politics \xB7 Trending",tag:"#istandwithrussia",tweets:"34.1K Tweets"},{name:"Trending in Pakistan",tag:"#ShahRukhKhan",tweets:"57.9K Tweets"},{name:"Trending in Pakistan",tag:"#BoysReadyHain",tweets:"5,528 Tweets"},{name:"Politics \xB7 Trending",tag:"#DoubleStandards",tweets:"7,174 Tweets"}],eo=()=>r(a,{sx:{flex:2,display:{xs:"none",md:"flex"},flexDirection:"column",alignItems:"center",py:1,px:3,maxHeight:"100vh",position:"sticky",top:0,overflowY:"scroll"},children:[e(B,{fullWidth:!0,placeholder:"Search Twitter",variant:"outlined",InputProps:{startAdornment:e(ct,{position:"start",children:e(dt,{fontSize:"medium"})})},sx:{"& .MuiOutlinedInput-root":{borderRadius:40,bgcolor:"#d3d3d342"},"& input":{p:1}}}),r(a,{sx:{bgcolor:"#d3d3d342",my:2,width:1,borderRadius:5},children:[r(a,{sx:{px:2,py:.5,display:"flex",justifyContent:"space-between"},children:[e(x,{variant:"h6",fontWeight:"bold",children:"Trends for you"}),e(S,{children:e(mt,{})})]}),Zt.map(({name:t,tag:o,tweets:s},c)=>r(a,{sx:{px:2,py:1.5,display:"flex",alignItems:"center",justifyContent:"space-between","&:hover":{bgcolor:"#d3d3d342"}},children:[r(a,{children:[e(x,{fontSize:13,children:t}),e(x,{varaint:"h6",fontWeight:"bold",children:o}),e(x,{fontSize:13,children:s})]}),e(S,{children:e(G,{})})]},c)),e(f,{sx:{ml:2},children:"Show more"})]})]}),to=ne(),oo=()=>{const{user:t}=i.exports.useContext(O),[o,s]=i.exports.useState(""),[c,n]=i.exports.useState([]),[d,u]=i.exports.useState(!1);return r(a,{sx:{px:1.5,pb:1,display:"flex",borderBottom:1,borderColor:"secondary.light"},children:[t.photoURL?e(k,{alt:t.name,src:t.photoURL,sx:{width:55,height:55}}):e(k,{sx:{width:55,height:55},children:t.name}),r(a,{sx:{width:1,ml:1},children:[e(ut,{multiline:!0,fullWidth:!0,placeholder:"What's Happening?",value:o,onChange:m=>s(m.target.value),sx:{border:"none",fontSize:20,"&:before":{border:"none"},"&:after":{border:"none"},"&:hover:not(.Mui-disabled):before":{border:"none"}}}),r(a,{sx:{width:1,display:"flex",justifyContent:"space-between"},children:[r(a,{children:[r("label",{htmlFor:"images-input",children:[e("input",{multiple:!0,type:"file",onChange:h,id:"images-input",accept:"image/*",style:{display:"none"}}),e(S,{component:"span",size:"medium",color:"primary",children:e(ht,{})})]}),e(S,{size:"medium",color:"primary",children:e(pt,{})}),e(S,{size:"medium",color:"primary",sx:{display:{xs:"none",sm:"initial"}},children:e(gt,{})}),e(S,{size:"medium",color:"primary",sx:{display:{xs:"none",sm:"initial"}},children:e(ft,{})}),e(S,{size:"medium",color:"primary",sx:{display:{xs:"none",sm:"initial"}},children:e(xt,{})}),e(S,{size:"medium",color:"primary",sx:{display:{xs:"none",sx:"initial"}},children:e(bt,{})})]}),e(f,{disabled:d,onClick:p,variant:"contained",sx:{borderRadius:5},children:"Tweet"})]}),c.map((m,g)=>r(a,{sx:{p:.5,my:.5,borderRadius:2,bgcolor:"secondary.light",width:1,display:"flex",alignItems:"center","& img":{width:20,height:20}},children:[e("img",{src:m.url,alt:m.name}),e(x,{sx:{width:0,flex:1,ml:1},noWrap:!0,children:m.name})]},g))]})]});function h(m){u(!0);let g=[...m.target.files];g.forEach((I,b)=>{const l=ae(to,"images/"+I.name),y=le(l,I);y.on("state_changed",null,()=>{alert("An image could not be uploaded"),g[b+1]||u(!1)},()=>{ce(y.snapshot.ref).then(w=>{n(v=>[...v,{name:I.name,url:w}]),g[b+1]||u(!1)})})})}async function p(){if(o||c.length){const m=c.map(g=>g.url);u(!0),await he(X(A,"posts"),{tweet:o,images:m,timestamp:pe(),by:t,likes:[],comments:0}),u(!1),s(""),n([])}}},so=({document:t,nestedLevel:o,parentCollectionPath:s})=>{const[c,n]=i.exports.useState(t),[d,u]=i.exports.useState(!1),[h,p]=i.exports.useState(!1),m=i.exports.useRef(),{user:g}=i.exports.useContext(O),{value:I,likes:b,comments:l,by:{photoURL:y,name:w}}=c.data();return i.exports.useEffect(()=>(m.current=M(A,s,c.id),K(m.current,J=>{n(J)})),[]),i.exports.useEffect(()=>{p(c.data().likes.includes(g.id))},[c]),e(a,{sx:{width:1,my:1,display:"flex",justifyContent:"end",position:"relative"},children:r(a,{sx:{width:.9,pb:1,border:1,borderRadius:2,borderColor:"#d3d3d342",overflow:"hidden","&:after":{content:'""',position:"absolute",top:"0",left:"5%",right:"90%",bottom:"10%",borderLeft:2,borderBottom:2,borderBottomLeftRadius:50,borderColor:"secondary.light"}},children:[r(a,{sx:{display:"flex",alignItems:"center",p:1,bgcolor:"#d3d3d342"},children:[y?e(k,{alt:w,src:y}):e(k,{children:w}),e(x,{fontWeight:"medium",sx:{ml:1},children:w})]}),e(x,{sx:{p:1},children:I}),r(a,{sx:{display:"flex",justifyContent:"space-around","& .MuiButton-root":{borderRadius:5}},children:[e(f,{onClick:()=>u(N=>!N),startIcon:e(ge,{}),sx:{color:T.A700,"&:hover":{color:W.A400,bgcolor:W[50]}},children:l}),e(f,{startIcon:e(fe,{}),sx:{color:T.A700,"&:hover":{color:q.A400,bgcolor:q[50]}}}),e(f,{onClick:v,startIcon:e(xe,{}),sx:[{color:T.A700,"&:hover":{color:H.A400,bgcolor:H[50]}},h&&{color:H.A400}],children:b.length}),e(f,{startIcon:e(be,{}),sx:{color:T.A700,"&:hover":{color:W.A400,bgcolor:W[50]}}})]}),d&&e(Re,{parentDocPath:`${s}/${c.id}`,nestedLevel:o+1})]})});async function v(){h?(p(!1),await j(m.current,{likes:ye(g.id)})):(p(!0),await j(m.current,{likes:we(g.id)}))}},Re=({nestedLevel:t,parentDocPath:o})=>{const{user:s}=i.exports.useContext(O),[c,n]=i.exports.useState(""),[d,u]=i.exports.useState([]),[h,p]=i.exports.useState(5),m=i.exports.useRef(),g=i.exports.useRef();i.exports.useEffect(()=>(g.current=M(A,o),m.current=X(A,o,"comments"),K(ve(m.current,Ie("timestamp","desc"),Se(h)),y=>{const w=[];y.forEach(v=>{w.push(v)}),u(w)})),[h]);const I=d.map(l=>e(so,{document:l,parentCollectionPath:`${o}/comments`,nestedLevel:t},l.id));return r(a,{sx:{width:1,py:1},children:[r(a,{component:"form",onSubmit:b,sx:{display:"flex",ml:1},children:[e(B,{value:c,onChange:l=>n(l.target.value),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{borderRadius:20},"& input":{py:1}}}),e(S,{type:"sumbit",color:"primary",variant:"contained",children:e(yt,{})})]}),I,d.length>=5&&e(f,{size:"small",onClick:()=>p(l=>l+5),sx:{display:"block",mx:"auto"},children:"Show more"})]});async function b(l){l.preventDefault(),c.trim()&&t<=4&&(await he(m.current,{by:s,comments:0,likes:[],value:c,timestamp:pe()}),n(""),await j(g.current,{comments:wt(1)}))}},no=({document:t})=>{const{user:o}=i.exports.useContext(O),[s,c]=i.exports.useState(t),n=i.exports.useRef(null),[d,u]=i.exports.useState(0),[h,p]=i.exports.useState(!1),[m,g]=i.exports.useState(!1);i.exports.useEffect(()=>K(M(A,"posts",s.id),E=>{c(E)}),[]),i.exports.useEffect(()=>{p(s.data().likes.includes(o.id))},[s]),i.exports.useEffect(()=>{if(n.current){const{width:P}=n.current.getBoundingClientRect();n.current.scroll({left:P*d,behavior:"smooth"})}},[d]);const{by:{photoURL:I,name:b},images:l,tweet:y,likes:w,comments:v}=s.data();return r(a,{sx:{display:"flex",p:1.5,pb:.5,borderBottom:1,borderColor:"secondary.light"},children:[I?e(k,{alt:"name",src:I,sx:{width:55,height:55}}):e(k,{sx:{width:55,height:55},children:b}),r(a,{sx:{pl:1,flex:1},children:[r(a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e(x,{varaint:"h6",fontWeight:"bold",children:b}),e(S,{onClick:Ae,children:e(G,{})})]}),e(x,{children:y}),e(a,{sx:{position:"relative"},children:!!l.length&&r(a,{ref:n,sx:{width:1,minHeight:60,display:"grid",borderRadius:3,gridTemplateColumns:`repeat(${l.length}, 100%)`,overflow:"hidden","& button":{color:"white",bgcolor:"common.black",opacity:"0.4"},"& button:hover":{bgcolor:"common.black"}},children:[l.map((P,E)=>e(a,{sx:{width:1,maxHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center","& img":{maxWidth:1,maxHeight:1}},children:e("img",{alt:"image",src:P,lazy:"true"})},E)),l.length>1&&r(vt,{children:[e(S,{onClick:()=>N("-"),sx:{position:"absolute",top:"50%",left:0},children:e(St,{})}),e(S,{onClick:()=>N("+"),sx:{position:"absolute",top:"50%",right:0},children:e(It,{})})]})]})}),r(a,{sx:{display:"flex",justifyContent:"space-between",pt:1,"& .MuiButton-root":{borderRadius:5}},children:[e(f,{onClick:()=>g(P=>!P),startIcon:e(ge,{}),sx:{color:T.A700,"&:hover":{color:W.A400,bgolor:W[50]}},children:v}),e(f,{startIcon:e(fe,{}),sx:{color:T.A700,"&:hover":{color:q.A400,bgolor:q[50]}}}),e(f,{onClick:J,startIcon:e(xe,{}),sx:[{color:T.A700,"&:hover":{color:H.A200,bgolor:H[50]}},h&&{color:H.A200}],children:w.length}),e(f,{startIcon:e(be,{}),sx:{display:{xs:"none",sm:"initial"},color:T.A700,"&:hover":{color:W.A400,bgolor:W[50]}}})]}),m&&e(Re,{nestedLevel:1,parentDocPath:`posts/${s.id}`})]})]});function N(P){switch(P){case"+":l[d+1]?u(E=>E+1):u(0);break;case"-":l[d-1]?u(E=>E-1):u(l.length-1);break}}async function J(){h?(p(!1),await j(M(A,"posts",s.id),{likes:ye(o.id)})):(p(!0),await j(M(A,"posts",s.id),{likes:we(o.id)}))}async function Ae(){o.id==="cn63Rll8VBMWAqhLzhnzrbVYRxp1"&&await kt(M(A,"posts",s.id))}},ro=()=>{const[t,o]=i.exports.useState([]),[s,c]=i.exports.useState(20);return i.exports.useEffect(async()=>{const n=ve(X(A,"posts"),Ie("timestamp","desc"),Se(s));return K(n,u=>{const h=[];u.forEach(p=>{h.push(p)}),o(h)})},[]),r(a,{children:[r(Ct,{position:"sticky",sx:{color:"common.black",bgcolor:"#ffffff82",backdropFilter:"blur(1px)",p:1.5,boxShadow:"none",flexDirection:"row",justifyContent:"space-between"},children:[e(x,{variant:"h6",component:"span",fontWeight:"bold",width:"fit-content",children:"Home"}),e(S,{size:"medium",sx:{width:"fit-content"},children:e(Rt,{})})]}),e(oo,{}),t.map(n=>e(no,{document:n},n.id)),!!t.length&&e(f,{onClick:()=>c(n=>n+20),sx:{display:"block",mx:"auto"},children:"Show more"})]})},io=()=>r(a,{sx:{p:5},children:[e(a,{component:"img",alt:"tom",src:"https://firebasestorage.googleapis.com/v0/b/ozlearning.appspot.com/o/images%2Fwhoknows.jpg?alt=media&token=1627ea90-dac2-4a77-a0dd-4f5d22cef238",sx:{width:1,height:"auto",borderRadius:5}}),e(x,{fontSize:40,color:"gray",textAlign:"center",children:"Nothing here"}),r(x,{component:"span",children:["The page you are looking for does not exist. ",e(D,{to:"home",children:"Go Home"})]})]}),ao=()=>{const t=ue(),o=Y();return i.exports.useEffect(()=>{t.pathname.split("/")[2]||o("home")},[t]),r(a,{sx:{display:"flex"},children:[e(Xt,{}),e(a,{sx:{flex:3,borderLeft:1,borderRight:1,minHeight:"100vh",borderColor:"secondary.light"},children:r(Q,{children:[e(z,{index:!0,element:e("div",{})}),e(z,{path:"home",element:e(ro,{})}),e(z,{path:"*",element:e(io,{})})]})}),e(eo,{})]})},lo=$();function co(){const[t,o]=mo();return i.exports.useEffect(()=>{lo.onAuthStateChanged(s=>{o(s||null)})},[]),e("div",{className:"App",children:e(O.Provider,{value:{user:t,setUser:o},children:r(Q,{children:[e(z,{path:"/*",element:e(Ot,{restricted:!!t,children:e(Vt,{})})}),e(z,{path:"surf/*",element:e(zt,{user:!!t,children:e(ao,{})})})]})})})}function mo(){const[t,o]=i.exports.useState(null),s=i.exports.useRef(!0),c=i.exports.useCallback(n=>{if(n){const{displayName:d,email:u,photoURL:h,uid:p}=n;o({name:d,email:u,photoURL:h,id:p})}else o(null)});return i.exports.useEffect(()=>{const n=JSON.parse(localStorage.getItem("localUser"));n&&o(n)},[]),i.exports.useEffect(()=>{s.current?s.current=!1:t?localStorage.setItem("localUser",JSON.stringify(t)):localStorage.removeItem("localUser")},[t]),[t,c]}const uo=At({palette:{primary:{main:"#1d9bf0"},secondary:{main:"#000",light:"#d3d3d3",dark:"#000"}}});Pt.render(r(Lt.StrictMode,{children:[e(Bt,{}),e(Tt,{theme:uo,children:e(Wt,{children:e(co,{})})})]}),document.getElementById("root"));
